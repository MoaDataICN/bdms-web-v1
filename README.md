# bdms-web-v1
BDMS 관리 페이지

## 개요
태국향 네이티브앱(링)과 웹뷰에서 API 호출을 통해 정보를 전달하고, 이를 관리자 웹에서 모니터링하는 역할   
권한은 **"최종 관리자" - "중간 관리자" - "고객 담당자" - "고객"** 으로, 고객을 제외한 3단계의 Depth였으나,   
이번 버전에서는 **"최종 관리자" - "중간 관리자/고객 담당자" - "고객"** 으로 2단계의 Depth로 기획   
      
현재 고객에 대한 정보는 T_WLK_MY 테이블의 앱 사용자를 바탕으로 하며, IN_CHARGE_ID 라는 컬럼을 통해 담당자와 맵핑되어있음   
관리자 및 담당자는 T_WLK_MNG_USER 테이블에서 관리되며, 인천공항 DB의 사용자테이블과 동일하나,    
추가로 **GRP_ID, GRP_LV** 와 같이 **계층정보**가 포함되어있음   
계층에 대한 정보는 T_WLK_MNG_GRP 에 부모-자식 관계로 구성되어있으며, 현재 3단계의 Depth이나, 2단계만 사용할 예정   
(계정 등록 시, 그룹 목록을 트리 구조로 보여주며, 선택 한 그룹의 ID값과 계층 level을 DB에 함께 저장할 것)   

## 개발환경
- Framework : Spring Boot 2.7.18
- Java : JDK 1.8.0
- 인천공항 기반의 구조(common 부분 대부분 그대로 발췌)
- DB : "192.168.1.12:3306/t_walk" 사용, 주로 t_wlk_mng_* 테이블 활용
- IDE : IntelliJ 기반으로 개발

## 레이아웃
전체적인 레이아웃은 tiles를 통해 **헤더 / 메뉴 / 메인** 으로 나뉘며,    
퍼블리싱은 셋 다 합쳐진 형태로 들어오나, 메인 부분만 변경되기에 헤더와 메뉴는 고정   
- header : 세션 및 로그인 정보 관련 영역 존재
- menu : DB의 T_WLK_MNG_MENU 를 바탕으로 구성되며, 현재 기획에 따른 URL 정보는 저장 해 두었으나, 컨트롤러 작업은 되어있지 않음
- main : 실제 퍼블리싱 파일의 <main> 태그 아래의 내용을 사용

## 화면
### 1. Dashboard
로그인 한 사용자의 권한에 따라 보여지는 내용이 상이함
- 고객과 바로 연결 된, **담당자 계정**으로 로그인 시 : 관리하고 있는 고객들에 대한 정보만 표현
- 담당자 위의 **관리자 계정**으로 로그인 시 : 하위 담당자들이 관리하고있는 전체 고객들에 대한 정보들을 표현

### 2. Tracking
- **User Request** : 웹뷰에서 호출하여 등록되는 것으로, Nursing / Ambulance / Telehealth 3 종류의 서비스 요청에 대한 내역
- **Health Alert** : 네이티브 앱(링)에서 호출하여 등록되는 것으로, 7종류의 건강 이상 알림에 대한 내역

### 3. User Setting
- 기존에는 별도의 메뉴로 구분 될 예정이었으나, 현재까지의 버전은 각 조회 결과 Grid의 'Detail' 버튼 클릭 시, 우측에서 창이 나타나는 형태
- 변경 될 가능성이 있으며, 아직 기능구현 되어있지 않음
- 관련하여 인천공항의 user/userGroup 내용을 프로젝트 내에 우선 넣어두었으며, 참고하여 사용하고 불필요한 부분은 제거할 예정
